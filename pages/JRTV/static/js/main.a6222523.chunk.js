(this["webpackJsonpjr-tv-app"]=this["webpackJsonpjr-tv-app"]||[]).push([[0],{21:function(t,e,i){},22:function(t,e,i){"use strict";i.r(e);var n=i(1),o=i.n(n),r=i(5),a=i.n(r),s=(i.p,i(2)),c=i(3),l=i(8),p=i(7),u=i(4),h=i.n(u),d=(i(19),i(10)),m=i.n(d),f=function(){function t(){Object(s.a)(this,t),this.isInitialized=!1}return Object(c.a)(t,null,[{key:"init",value:function(t){if(!this.isInitialized){this.isInitialized=!0;var e="http://akz.imgfarm.com/pub/feeds/giphy/redditgif.jsonp?v=".concat((new Date).getTime());m()(e,{name:"jsonpCallback"},(function(e,i){if(e)throw e;t(i)}))}}}]),t}(),v=i(6),g=i(11),y=i.n(g),j=i(0),b=function(t){Object(l.a)(i,t);var e=Object(p.a)(i);function i(t){var n;return Object(s.a)(this,i),(n=e.call(this,t)).reposition=n.reposition.bind(Object(v.a)(n)),n}return Object(c.a)(i,[{key:"componentDidMount",value:function(){this.props.repositionOnMount&&window.setTimeout(this.reposition,0)}},{key:"componentDidUpdate",value:function(t,e){this.props.visible!==t.visible&&(!0===this.props.visible?(y.a.add(window,"resize",this.reposition,!1),window.setTimeout(this.reposition,0)):!1===this.props.visible&&y.a.remove(window,"resize",this.reposition))}},{key:"reposition",value:function(){var t=a.a.findDOMNode(this.refs.prompt);if(t&&"function"===typeof this.props.updatePosition){var e=window.innerHeight||document.body.clientHeight,i=window.innerWidth||document.body.clientWidth,n=(e-t.offsetHeight)/2,o=(i-t.offsetWidth)/2;this.props.updatePosition({top:Math.max(0,n),left:Math.max(0,o)})}}},{key:"render",value:function(){return this.props.visible?Object(j.jsxs)("div",{className:"prompt-manager",children:[Object(j.jsx)("div",{className:"prompt-overlay",onClick:this.props.onOverlayClick}),Object(j.jsx)("div",{className:"prompt-modal",ref:"prompt",onClick:this.props.onModalClick,style:{top:this.props.position.top,right:this.props.position.right,left:this.props.position.left,bottom:this.props.position.bottom},children:this.props.children})]}):null}}]),i}(o.a.Component);b.displayName="Prompt",b.defaultProps={visible:!1,repositionOnMount:!1,position:{top:-99999,left:-99999}};var O=h()("wtt.SharePrompt"),w=function(t){Object(l.a)(i,t);var e=Object(p.a)(i);function i(t){var n;return Object(s.a)(this,i),O("constructor"),(n=e.call(this,t)).state={promptVisible:!1},n.repositionShowPrompt=n.repositionShowPrompt.bind(Object(v.a)(n)),n}return Object(c.a)(i,[{key:"repositionShowPrompt",value:function(){var t=a.a.findDOMNode(this.refs.tvShowPrompt);if(t){var e=window.innerHeight||document.body.clientHeight,i=window.innerWidth||document.body.clientWidth;document.documentElement.scrollTop,t.offsetHeight,document.documentElement.scrollLeft,t.offsetWidth}}},{key:"closeModal",value:function(){}},{key:"modalContent",value:function(){var t=this;return this.props.visible?Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"closeBtn trigerClose track",onClick:function(){return t.closeModal()}})}):null}},{key:"render",value:function(){return O("promptrender",this.props,this.state),Object(j.jsx)(b,{type:"contentModal",visible:this.props.visible,position:this.props.position,onOverlayClick:this.overlayClicked})}}]),i}(o.a.Component),k=(i(21),h()("wtt.Giphy")),S=function(t){Object(l.a)(i,t);var e=Object(p.a)(i);function i(t){var n;return Object(s.a)(this,i),k("constructor"),(n=e.call(this,t)).count=0,n.state={currentGifUrl:"https://s3.amazonaws.com/tholman.com/img/static.gif",currentTitle:"Now Loading....",currentSource:"static",localStorgeArray:"",hourFormat:"12hour",channel:0},n}return Object(c.a)(i,[{key:"formatGifs",value:function(t,e){if("reddit"===e){var i=[],n=/(\.gif$|\.gifv$)/,o=/(i\.imgur)/;if(t.length>0){for(var r=0;r<t.length;r++){var a="reddit";if(n.test(t[r].data.url)){o.test(t[r].data.url)&&(a="imgur");var s=t[r].data.title,c=t[r].data.url;i.push({name:s,url:c,source:a})}}return i}}else if("giphy"!==e)return[]}},{key:"componentWillMount",value:function(){var t=this,e=!1,i=localStorage.getItem("mywayGiphyArray"),n=new Date;if(n="".concat(n.getMonth()+1,"/").concat(n.getDate(),"/").concat(n.getFullYear()),null===i||"undefined"===i)e=!0;else{var o=localStorage.getItem("mywayGiphyDate");null===o||"undefined"===o?localStorage.setItem("mywayGiphyDate",n):o!==n&&(e=!0)}e&&(k("componentWillMount","Getting Data"),window.setTimeout((function(){f.init((function(e){t.props.config.currentGifList=e.data.children,t.count=0;var i=t.formatGifs(t.props.config.currentGifList,"reddit");localStorage.setItem("mywayGiphyArray",JSON.stringify(t.shuffle(i))),localStorage.setItem("mywayGiphyCount",t.count),localStorage.setItem("mywayGiphyDate",n),t.setState({localStorgeArray:"have data on ".concat(n)})}))}),0))}},{key:"shuffle",value:function(t){for(var e,i,n=t.length;n;e=Math.floor(Math.random()*n),i=t[--n],t[n]=t[e],t[e]=i);return t}},{key:"handleShare",value:function(){}},{key:"handleChannelChange",value:function(){this.setState({channel:this.count+1})}},{key:"componentDidMount",value:function(){k("componentDidMount")}},{key:"render",value:function(){var t=this,e=JSON.parse(localStorage.getItem("mywayGiphyArray")),i=this.state.currentGifUrl,n=this.state.currentTitle,o=this.state.currentSource;null===localStorage.getItem("mywayGiphyCount")&&localStorage.setItem("mywayGiphyCount",this.count);var r=parseInt(localStorage.getItem("mywayGiphyCount"));if(e){if("undefined"!==e&&e.length>0)r>=0&&e.length>=r?(e.length==r&&(r=0),i=e[r].url,n=e[r].name,o=e[r].source):(i=e[r=0].url,n=e[r].name,o=e[r].source);else{var a=this.formatGifs(this.props.config.currentGifList,"reddit");localStorage.setItem("mywayGiphyArray",JSON.stringify(a))}r+=1,localStorage.setItem("mywayGiphyCount",r)}var s=Object(j.jsx)("img",{id:"gif-pic",src:"https://s3.amazonaws.com/tholman.com/img/static.gif"});if("v"===i[i.length-1]||"imgur"===o){var c=i.match(/imgur.com\/(...*)\.(gifv|gif)/);s=Object(j.jsx)("video",{poster:"//i.imgur.com/".concat(c[1],".jpg"),preload:"auto",autoPlay:"autoplay",muted:"muted",loop:"loop","webkit-playsinline":"",id:"gif-pic",className:"video-gifv",children:Object(j.jsx)("source",{src:"//i.imgur.com/".concat(c[1],".mp4"),type:"video/mp4"})}),k("Render","GIFV!!!!!!")}else s=Object(j.jsx)("img",{id:"gif-pic",src:i});return Object(j.jsxs)("div",{children:[Object(j.jsx)(w,{props:this.props}),Object(j.jsxs)("div",{className:"tv-container",children:[Object(j.jsx)("div",{className:"landscape"}),Object(j.jsxs)("div",{className:"tv-screen",children:[Object(j.jsx)("div",{className:"mediaWrapper",children:s}),Object(j.jsx)("div",{className:"gif-name",children:Object(j.jsx)("div",{className:"tite-container",children:Object(j.jsx)("h1",{dangerouslySetInnerHTML:{__html:n}})})}),Object(j.jsx)("div",{className:"tv-buttonWrapper",children:Object(j.jsx)("button",{onClick:function(){return t.handleChannelChange()},children:"Up"})})]})]})]})}}]),i}(o.a.Component);S.displayName="Giphy",S.defaultProps={config:{currentGifList:[]}};var x=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)("header",{className:"App-header",children:Object(j.jsx)(S,{})})})},C=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,23)).then((function(e){var i=e.getCLS,n=e.getFID,o=e.getFCP,r=e.getLCP,a=e.getTTFB;i(t),n(t),o(t),r(t),a(t)}))};a.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root")),C()}},[[22,1,2]]]);
//# sourceMappingURL=main.a6222523.chunk.js.map